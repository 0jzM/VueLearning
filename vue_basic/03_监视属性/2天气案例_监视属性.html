<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>天气案例</title>
		<script src="../js/vue.js"></script>
	</head>
	<!-- 
		监视属性watch:
		1,当被监视的属性变化时，回调函数自动调用，进行相关操作
		2,监视的属性必须存在，才能进行监视！！
		3,监视的两种写法：
			(1),new Vue时传入watch配置
			(2),通过vm,$watch监视
	 -->
	<body>
		<div id="root">
			<h2>今天天气很{{info}}</h2>
			<button @click="changeWeather">切换</button>
		</div>
	</body>
	<script>
		const vm = new Vue({
			el: '#root',
			data: {
				isHot: true
			},
			computed: {
				info() {
					return this.isHot ? '炎热' : '凉爽'
				}
			},
			methods: {
				changeWeather() {
					this.isHot = !this.isHot
				}
			},
			// 第一种 实现监视
			// watch: {
			// 	isHot:{
			// 		immediate:true, //初始化时让handler调用
			// 		// handler什么时候调用
			// 		handler(){
			// 			console.log("ishot被修改了");
			// 		}
			// 	}
			// },
		})

		// 第二种方式监视
		vm.$watch('isHot', {
			immediate: true, //初始化时让handler调用
			// handler什么时候调用
			handler(newValue,oldValue) {
				console.log("ishot被修改了"+newValue+oldValue);
			}
		})
	</script>
</html>
